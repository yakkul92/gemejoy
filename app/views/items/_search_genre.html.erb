<div class="container mt-4">
  <div class="col-12 my-4">
    <%= render 'items/modal' %>
  </div>

  <div class="row">
    <%= form_with url: search_items_path, method: :get, local: true do |f| %>

      <div class="col-12 mb-4">
        キーワードを入力
        <%= f.text_field :keyword, value: params[:keyword], class: "form-control width: 100%" %>
      </div>
  
      <div class="col-12 mb-4">
        キーワード検索
        <table class="table">
          <tbody>
            <% Tag.all.each do |tag| %>
              <tr>
                <td>
                  <%= check_box_tag "tag_ids[]", tag.id, params[:tag_ids].present? ? params[:tag_ids].include?(tag.id.to_s) : false, id: "tag_#{tag.id}" %>
                </td>
                <td>
                  <%= label_tag "tag_#{tag.id}", tag.name %>
                </td>
              </tr>
            <% end %>
          </tbody>
        </table>
      </div>
   
      <div class="col-12">
        ジャンル検索
        <table class="table">
          <tbody>
            <% Genre.all.each do |genre| %>
              <tr>
                <td>
                 <%= check_box_tag "genre_ids[]", genre.id, params[:genre_ids].present? ? params[:genre_ids].include?(genre.id.to_s) : false, id: "genre_#{genre.id}" %>
                </td>
                <td>
                  <%= label_tag "genre_#{genre.id}", genre.name %>
                </td>
              </tr>
            <% end %>
          </tbody>
        </table>
        <%= submit_tag "Search", class: "btn btn-primary", style: "width: 100%;" %>
      <% end %>
    </div>

  </div>
</div>



